<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:flowable="http://flowable.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <process id="xs2-bg-deploy" name="XS2 Blue Green Deploy Activiti Process" isExecutable="true">
    <extensionElements>
      <flowable:eventListener events="PROCESS_CANCELLED" delegateExpression="${abortProcessListener}"></flowable:eventListener>
      <flowable:eventListener events="JOB_EXECUTION_FAILURE,ENTITY_CREATED" delegateExpression="${errorProcessListener}"></flowable:eventListener>
      <flowable:eventListener events="ENTITY_DELETED" delegateExpression="${expiredJobListener}"></flowable:eventListener>
      <flowable:eventListener events="PROCESS_CANCELLED" delegateExpression="${abortProcessStatisticsListener}"></flowable:eventListener>
    </extensionElements>
    <startEvent id="startEvent" name="Start" flowable:initiator="initiator" flowable:formFieldValidation="true">
      <extensionElements>
        <flowable:executionListener event="start" delegateExpression="${startProcessListener}"></flowable:executionListener>
      </extensionElements>
    </startEvent>
    <serviceTask id="addDomainsTask" name="Add Domains" flowable:async="true" flowable:delegateExpression="${addDomainsStep}"></serviceTask>
    <serviceTask id="prepareModulesDeploymentTask" name="Prepare Modules Deployment" flowable:async="true" flowable:delegateExpression="${prepareModulesDeploymentStep}"></serviceTask>
    <serviceTask id="buildDeployModelTask" name="Build Deploy Model" flowable:async="true" flowable:delegateExpression="${buildCloudDeployModelStep}"></serviceTask>
    <serviceTask id="processArchiveTask" name="Process Archive" flowable:async="true" flowable:delegateExpression="${processMtaArchiveStep}"></serviceTask>
    <serviceTask id="validateParametersTask" name="Validate Parameters" flowable:async="true" flowable:delegateExpression="${validateDeployParametersStep}"></serviceTask>
    <serviceTask id="deleteServiceBrokersTask" name="Delete Service Brokers" flowable:async="true" flowable:delegateExpression="${deleteServiceBrokersStep}"></serviceTask>
    <exclusiveGateway id="shouldDeleteDiscontinuedServiceBrokersGateway" name="Should Delete Discontinued Service Brokers" default="sid-82DC4073-CDBC-47E5-AFC3-B5FFD7AB1499"></exclusiveGateway>
    <serviceTask id="processExtensionDescriptorsTask" name="Process Extension Descriptors" flowable:async="true" flowable:delegateExpression="${processMtaExtensionDescriptorsStep}"></serviceTask>
    <sequenceFlow id="flow3" sourceRef="processArchiveTask" targetRef="processExtensionDescriptorsTask"></sequenceFlow>
    <serviceTask id="detectSchemaVersionTask" name="Detect Schema Version" flowable:async="true" flowable:delegateExpression="${detectMtaSchemaVersionStep}"></serviceTask>
    <sequenceFlow id="flow4" sourceRef="processExtensionDescriptorsTask" targetRef="detectSchemaVersionTask"></sequenceFlow>
    <serviceTask id="mergeDescriptorsTask" name="Merge Descriptors" flowable:async="true" flowable:delegateExpression="${mergeDescriptorsStep}"></serviceTask>
    <sequenceFlow id="flow7" sourceRef="mergeDescriptorsTask" targetRef="detectDeployedMtaTask"></sequenceFlow>
    <serviceTask id="deleteDiscontinuedConfigurationEntriesTask" name="Delete Discontinued Configuration Entries" flowable:async="true" flowable:delegateExpression="${deleteDiscontinuedConfigurationEntriesStep}"></serviceTask>
    <serviceTask id="collectBlueGreenSystemParametersTask" name="Collect Idle System Parameters" flowable:async="true" flowable:delegateExpression="${collectBlueGreenSystemParametersStep}"></serviceTask>
    <sequenceFlow id="flow10" sourceRef="collectBlueGreenSystemParametersTask" targetRef="processDescriptorTask"></sequenceFlow>
    <serviceTask id="processDescriptorTask" name="Process Descriptor" flowable:async="true" flowable:delegateExpression="${processDescriptorStep}"></serviceTask>
    <serviceTask id="buildUndeployModelTask" name="Build Undeploy Model" flowable:async="true" flowable:delegateExpression="${buildCloudUndeployModelStep}"></serviceTask>
    <serviceTask id="detectDeployedMtaTask" name="Detect Deployed MTA" flowable:async="true" flowable:delegateExpression="${detectDeployedMtaStep}"></serviceTask>
    <serviceTask id="renameApplicationsTask" name="Rename applications" flowable:async="true" flowable:delegateExpression="${renameApplicationsStep}"></serviceTask>
    <sequenceFlow id="flow9" sourceRef="renameApplicationsTask" targetRef="collectBlueGreenSystemParametersTask"></sequenceFlow>
    <receiveTask id="continueDeploymentTask" name="Continue Deployment" flowable:async="true">
      <extensionElements>
        <flowable:executionListener event="start" delegateExpression="${enterTestingPhaseListener}"></flowable:executionListener>
        <flowable:executionListener event="end" delegateExpression="${leaveTestingPhaseListener}"></flowable:executionListener>
      </extensionElements>
    </receiveTask>
    <exclusiveGateway id="shouldAutoContinueDeploymentGateway" name="Should Auto Continue Deployment" default="doNotAutoContinueDeploymentFlow"></exclusiveGateway>
    <serviceTask id="createSubscriptionsTask" name="Create Subscriptions" flowable:async="true" flowable:delegateExpression="${createSubscriptionsStep}"></serviceTask>
    <serviceTask id="deleteSubscriptionsTask" name="Delete Subscriptions" flowable:async="true" flowable:delegateExpression="${deleteSubscriptionsStep}"></serviceTask>
    <serviceTask id="updateSubscribersTask" name="Update Subscribers" flowable:async="true" flowable:delegateExpression="${updateSubscribersStep}"></serviceTask>
    <serviceTask id="restartSubscribersTask" name="Restart Subscribers" flowable:async="true" flowable:delegateExpression="${restartSubscribersStep}"></serviceTask>
    <serviceTask id="updateServiceBrokerSubscriberTask" name="Update Service Broker Subscriber" flowable:async="true" flowable:delegateExpression="${updateServiceBrokerSubscriberStep}"></serviceTask>
    <serviceTask id="prepareToRestartServiceBrokerSubscribersTask" name="Prepare To Restart Service Brokers Subscribers" flowable:async="true" flowable:delegateExpression="${prepareToRestartServiceBrokerSubscribersStep}"></serviceTask>
    <sequenceFlow id="flow86" sourceRef="restartSubscribersTask" targetRef="prepareToRestartServiceBrokerSubscribersTask"></sequenceFlow>
    <endEvent id="endEvent" name="End">
      <extensionElements>
        <flowable:executionListener event="end" delegateExpression="${endProcessListener}"></flowable:executionListener>
        <flowable:executionListener event="end" delegateExpression="${endProcessStatisticsListener}"></flowable:executionListener>
      </extensionElements>
    </endEvent>
    <serviceTask id="prepareAppsRestartTask" name="Prepare Apps To Restart" flowable:async="true" flowable:delegateExpression="${prepareAppsRestartStep}"></serviceTask>
    <exclusiveGateway id="areAllServiceBrokerSubscribersRestartedGateway" name="Are All Service Broker Subscribers Restarted" default="notAllServiceBrokerSubscribersAreRestartedFlow"></exclusiveGateway>
    <serviceTask id="restartServiceBrokerSubscriberTask" name="Restart Service Broker Subscriber" flowable:async="true" flowable:delegateExpression="${restartServiceBrokerSubscriberStep}"></serviceTask>
    <exclusiveGateway id="isServiceBrokerSubscriberStartedGateway" name="Is Service Broker Subscriber Started" default="waitForServiceBrokerSubscriberToStartFlow"></exclusiveGateway>
    <intermediateCatchEvent id="timerintermediatecatchevent4" name="TimerCatchEvent">
      <timerEventDefinition>
        <timeDuration>PT${applicationConfiguration.getStepPollingIntervalInSeconds()}S</timeDuration>
      </timerEventDefinition>
    </intermediateCatchEvent>
    <serviceTask id="incrementServiceBrokerSubscribersToRestartIndexTask" name="Increment Index" flowable:async="true" flowable:delegateExpression="${incrementIndexStep}"></serviceTask>
    <sequenceFlow id="notAllServiceBrokerSubscribersAreRestartedFlow" sourceRef="areAllServiceBrokerSubscribersRestartedGateway" targetRef="restartServiceBrokerSubscriberTask"></sequenceFlow>
    <sequenceFlow id="flow121" sourceRef="restartServiceBrokerSubscriberTask" targetRef="isServiceBrokerSubscriberStartedGateway"></sequenceFlow>
    <sequenceFlow id="waitForServiceBrokerSubscriberToStartFlow" sourceRef="isServiceBrokerSubscriberStartedGateway" targetRef="timerintermediatecatchevent4"></sequenceFlow>
    <sequenceFlow id="flow124" sourceRef="timerintermediatecatchevent4" targetRef="restartServiceBrokerSubscriberTask"></sequenceFlow>
    <sequenceFlow id="flow127" sourceRef="incrementServiceBrokerSubscribersToRestartIndexTask" targetRef="areAllServiceBrokerSubscribersRestartedGateway"></sequenceFlow>
    <sequenceFlow id="allServiceBrokerSubscribersWereRestartedFlow" sourceRef="areAllServiceBrokerSubscribersRestartedGateway" targetRef="endEvent">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(updatedServiceBrokerSubscribersCount == updatedServiceBrokerSubscribersIndex)}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow129" sourceRef="prepareToRestartServiceBrokerSubscribersTask" targetRef="areAllServiceBrokerSubscribersRestartedGateway"></sequenceFlow>
    <serviceTask id="collectSystemParametersTask" name="Collect Live System Parameters" flowable:async="true" flowable:delegateExpression="${collectSystemParametersStep}"></serviceTask>
    <exclusiveGateway id="shouldRestartSubscribersGateway" name="Exclusive Gateway" default="restartSubscribersFlow"></exclusiveGateway>
    <sequenceFlow id="flow144" sourceRef="updateSubscribersTask" targetRef="shouldRestartSubscribersGateway"></sequenceFlow>
    <sequenceFlow id="restartSubscribersFlow" sourceRef="shouldRestartSubscribersGateway" targetRef="restartSubscribersTask"></sequenceFlow>
    <sequenceFlow id="doNotRestartSubscribersFlow" sourceRef="shouldRestartSubscribersGateway" targetRef="endEvent">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(noRestartSubscribedApps == true)}]]></conditionExpression>
    </sequenceFlow>
    <callActivity id="deployModulesSequential" name="Deploy Modules Sequentially" flowable:async="true" calledElement="${moduleDeployProcessGetter.get(moduleToDeploy, execution)}" flowable:calledElementType="key" flowable:inheritVariables="true" flowable:fallbackToDefaultTenant="false">
      <multiInstanceLoopCharacteristics isSequential="true" flowable:collection="modulesToDeploy" flowable:elementVariable="moduleToDeploy"></multiInstanceLoopCharacteristics>
    </callActivity>
    <callActivity id="deployModulesParallel" name="Deploy Apps In Parallel" flowable:async="true" calledElement="${moduleDeployProcessGetter.get(moduleToDeploy, execution)}" flowable:calledElementType="key" flowable:inheritVariables="true" flowable:completeAsync="true" flowable:fallbackToDefaultTenant="false">
      <multiInstanceLoopCharacteristics isSequential="false" flowable:collection="modulesToIterateInParallel" flowable:elementVariable="moduleToDeploy"></multiInstanceLoopCharacteristics>
    </callActivity>
    <sequenceFlow id="flow68" sourceRef="prepareModulesDeploymentTask" targetRef="deploymentModeGateway"></sequenceFlow>
    <exclusiveGateway id="deploymentModeGateway" name="Deployment Mode Gateway" default="shouldDeployModulesSequentialFlow"></exclusiveGateway>
    <serviceTask id="computeNextModulesToDeployInParallel" name="Compute Next Modules To Deploy" flowable:async="true" flowable:delegateExpression="${computeNextModulesStep}"></serviceTask>
    <exclusiveGateway id="hasParallelDeploymentCompletedGateway" name="Has Parallel Deployment Completed" default="deployAppsParallelNextIterationFlow"></exclusiveGateway>
    <callActivity id="deleteServicesCallActivity" name="Delete Services Sub Process" flowable:async="true" calledElement="deleteServiceSubProcess" flowable:calledElementType="key" flowable:inheritVariables="true" flowable:completeAsync="true" flowable:fallbackToDefaultTenant="false">
      <extensionElements>
        <flowable:in source="serviceToDelete" target="serviceToDelete"></flowable:in>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" flowable:collection="servicesToDelete" flowable:elementVariable="serviceToDelete"></multiInstanceLoopCharacteristics>
    </callActivity>
    <callActivity id="restartAppsSequential" name="Restart Apps Sequentially" flowable:async="true" calledElement="deployAppSubProcess" flowable:calledElementType="key" flowable:inheritVariables="true" flowable:fallbackToDefaultTenant="false">
      <multiInstanceLoopCharacteristics isSequential="true" flowable:collection="modulesToDeploy" flowable:elementVariable="moduleToDeploy"></multiInstanceLoopCharacteristics>
    </callActivity>
    <callActivity id="restartAppsParallel" name="Restart Apps In Parallel" flowable:async="true" calledElement="deployAppSubProcess" flowable:calledElementType="key" flowable:inheritVariables="true" flowable:completeAsync="true" flowable:fallbackToDefaultTenant="false">
      <multiInstanceLoopCharacteristics isSequential="false" flowable:collection="modulesToIterateInParallel" flowable:elementVariable="moduleToDeploy"></multiInstanceLoopCharacteristics>
    </callActivity>
    <serviceTask id="computeNextAppsToRestartInParallel" name="Compute Next Apps To Restart" flowable:async="true" flowable:delegateExpression="${computeNextModulesStep}"></serviceTask>
    <exclusiveGateway id="hasParallelRestartCompletedGateway" name="Has Parallel Restart Completed" default="restartAppsParallelNextIterationFlow"></exclusiveGateway>
    <sequenceFlow id="flow155" sourceRef="computeNextAppsToRestartInParallel" targetRef="restartAppsParallel"></sequenceFlow>
    <sequenceFlow id="flow156" sourceRef="restartAppsParallel" targetRef="hasParallelRestartCompletedGateway"></sequenceFlow>
    <exclusiveGateway id="shouldDeleteDiscontinuedServicesGateway" name="Should Delete Discontinued Services" default="doNotDeleteDiscontinuedServicesFlow"></exclusiveGateway>
    <callActivity id="processBatchesSequentially" name="Process Resource Batches Sequentially" flowable:async="true" calledElement="processBatches" flowable:calledElementType="key" flowable:inheritVariables="true" flowable:completeAsync="true" flowable:fallbackToDefaultTenant="false">
      <multiInstanceLoopCharacteristics isSequential="true" flowable:collection="batchesToProcess" flowable:elementVariable="batchToProcess"></multiInstanceLoopCharacteristics>
    </callActivity>
    <sequenceFlow id="sid-4B6B0565-AD88-4ADB-95C5-2A77476A7C32" sourceRef="createSubscriptionsTask" targetRef="shouldAutoContinueDeploymentGateway"></sequenceFlow>
    <sequenceFlow id="sid-59F0AF3A-1E41-4A9D-8C78-9B94151006DE" sourceRef="detectSchemaVersionTask" targetRef="mergeDescriptorsTask"></sequenceFlow>
    <inclusiveGateway id="setUndeployPhaseInclusiveGateway" name="setUndeployPhaseInclusiveGateway"></inclusiveGateway>
    <sequenceFlow id="flow39" sourceRef="deleteSubscriptionsTask" targetRef="deleteDiscontinuedConfigurationEntriesTask"></sequenceFlow>
    <callActivity id="undeployAppCallActivity" name="Undeploy App Call Activity" flowable:async="true" calledElement="undeployAppSubProcess" flowable:calledElementType="key" flowable:inheritVariables="true" flowable:completeAsync="true" flowable:fallbackToDefaultTenant="false">
      <multiInstanceLoopCharacteristics isSequential="false" flowable:collection="appsToUndeploy" flowable:elementVariable="appToProcess"></multiInstanceLoopCharacteristics>
    </callActivity>
    <serviceTask id="deleteRemainingFileParts" name="Delete Remaining File Parts" flowable:async="true" flowable:delegateExpression="${deleteRemainingFileParts}"></serviceTask>
    <sequenceFlow id="flow2" sourceRef="validateParametersTask" targetRef="deleteRemainingFileParts"></sequenceFlow>
    <sequenceFlow id="sid-94D842B0-2949-4439-AB30-88A82EAB18EB" sourceRef="deleteRemainingFileParts" targetRef="processArchiveTask"></sequenceFlow>
    <serviceTask id="detectApplicationsToRenameTask" name="Detect apps to rename" flowable:async="true" flowable:delegateExpression="${detectApplicationsToRenameStep}"></serviceTask>
    <sequenceFlow id="flow8" sourceRef="detectDeployedMtaTask" targetRef="detectApplicationsToRenameTask"></sequenceFlow>
    <serviceTask id="updateModulesAppNames" name="Update Modules App Names " flowable:async="true" flowable:delegateExpression="${updateModulesAppNames}"></serviceTask>
    <callActivity id="sid-C6BBB2C9-B681-4FAE-A33C-57CEF185997B" name="Undeploy Old Apps Call Activity" flowable:async="true" calledElement="undeployAppSubProcess" flowable:calledElementType="key" flowable:inheritVariables="true" flowable:completeAsync="true" flowable:fallbackToDefaultTenant="false">
      <multiInstanceLoopCharacteristics isSequential="false" flowable:collection="appsToUndeploy" flowable:elementVariable="appToProcess"></multiInstanceLoopCharacteristics>
    </callActivity>
    <sequenceFlow id="sid-F9C7C5D5-4E9B-4B06-A289-7610B1CE462F" sourceRef="detectApplicationsToRenameTask" targetRef="sid-C6BBB2C9-B681-4FAE-A33C-57CEF185997B"></sequenceFlow>
    <sequenceFlow id="sid-BA0DFB11-8CBB-48ED-A7D0-B1A909BEFD2B" sourceRef="sid-C6BBB2C9-B681-4FAE-A33C-57CEF185997B" targetRef="renameApplicationsTask"></sequenceFlow>
    <serviceTask id="detachServicesFromMtaTask" name="Detach Services from MTA" flowable:async="true" flowable:delegateExpression="${detachServicesFromMtaStep}"></serviceTask>
    <sequenceFlow id="flow12" sourceRef="buildDeployModelTask" targetRef="buildUndeployModelTask"></sequenceFlow>
    <sequenceFlow id="flow11" sourceRef="processDescriptorTask" targetRef="buildDeployModelTask"></sequenceFlow>
    <sequenceFlow id="flow49" sourceRef="buildUndeployModelTask" targetRef="addDomainsTask"></sequenceFlow>
    <sequenceFlow id="flow151" sourceRef="computeNextModulesToDeployInParallel" targetRef="deployModulesParallel"></sequenceFlow>
    <inclusiveGateway id="setValidationPhaseStartedInclusiveGateway"></inclusiveGateway>
    <exclusiveGateway id="sid-5B2AE114-1CBF-47C2-82D5-4CB9379C6136" name="Restart Apps Mode Gateway" default="sid-065FFC8D-12B3-4D53-B7F6-A0D2B3EA9420"></exclusiveGateway>
    <sequenceFlow id="sid-91F14D78-6B14-407B-8D03-DE7B6EC32F34" sourceRef="prepareAppsRestartTask" targetRef="sid-5B2AE114-1CBF-47C2-82D5-4CB9379C6136"></sequenceFlow>
    <inclusiveGateway id="restartAppsModeGateway" name="restartAppsModeGateway" default="shouldRestartAppsSequentialFlow"></inclusiveGateway>
    <sequenceFlow id="doNotDeleteDiscontinuedServicesFlow" name="Don't delete services" sourceRef="shouldDeleteDiscontinuedServicesGateway" targetRef="detachServicesFromMtaTask">
      <extensionElements>
        <flowable:executionListener event="take" delegateExpression="${doNotDeleteServicesListener}"></flowable:executionListener>
      </extensionElements>
    </sequenceFlow>
    <exclusiveGateway id="sid-66CC8C75-3074-4F04-AF5E-50775AD4EC95" name="Is Async Operation" default="sid-A545F747-FCFB-46E0-96B3-7555B8D922A4"></exclusiveGateway>
    <intermediateCatchEvent id="sid-69953C51-B2F9-4A09-AC62-91EA1F4FB2B1" name="TimerCatchEvent">
      <timerEventDefinition>
        <timeDuration>PT${applicationConfiguration.getStepPollingIntervalInSeconds()}S</timeDuration>
      </timerEventDefinition>
    </intermediateCatchEvent>
    <sequenceFlow id="serviceBrokerSubscriberWasStartedFlow" sourceRef="isServiceBrokerSubscriberStartedGateway" targetRef="updateServiceBrokerSubscriberTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(StepExecution == "DONE")}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow83" sourceRef="updateServiceBrokerSubscriberTask" targetRef="sid-66CC8C75-3074-4F04-AF5E-50775AD4EC95"></sequenceFlow>
    <sequenceFlow id="sid-A545F747-FCFB-46E0-96B3-7555B8D922A4" sourceRef="sid-66CC8C75-3074-4F04-AF5E-50775AD4EC95" targetRef="sid-69953C51-B2F9-4A09-AC62-91EA1F4FB2B1"></sequenceFlow>
    <sequenceFlow id="sid-E29C0DB4-272C-4094-B566-FAE993E6F564" sourceRef="sid-69953C51-B2F9-4A09-AC62-91EA1F4FB2B1" targetRef="updateServiceBrokerSubscriberTask"></sequenceFlow>
    <exclusiveGateway id="sid-F9BE9E7F-9BF9-428B-96E7-D395381BF7AD" name="Is Async operation" default="sid-C50445C7-0A1F-4CD6-8C8E-CC480F50B507"></exclusiveGateway>
    <sequenceFlow id="flow45" sourceRef="deleteServiceBrokersTask" targetRef="sid-F9BE9E7F-9BF9-428B-96E7-D395381BF7AD"></sequenceFlow>
    <intermediateCatchEvent id="sid-18F22FDF-C42D-4456-97F1-B31A0DE93B28" name="TimerCatchEvent">
      <timerEventDefinition>
        <timeDuration>PT${applicationConfiguration.getStepPollingIntervalInSeconds()}S</timeDuration>
      </timerEventDefinition>
    </intermediateCatchEvent>
    <sequenceFlow id="sid-58D6EFB3-8909-49A1-B95F-E6EC40DD16B3" sourceRef="sid-18F22FDF-C42D-4456-97F1-B31A0DE93B28" targetRef="deleteServiceBrokersTask"></sequenceFlow>
    <sequenceFlow id="sid-7BDC3D2A-5EA5-489B-A1C1-ACD672F5EE72" sourceRef="sid-66CC8C75-3074-4F04-AF5E-50775AD4EC95" targetRef="incrementServiceBrokerSubscribersToRestartIndexTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(StepExecution == "DONE")}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-C50445C7-0A1F-4CD6-8C8E-CC480F50B507" sourceRef="sid-F9BE9E7F-9BF9-428B-96E7-D395381BF7AD" targetRef="sid-18F22FDF-C42D-4456-97F1-B31A0DE93B28"></sequenceFlow>
    <sequenceFlow id="deleteDiscontinuedServiceBrokersFlow" sourceRef="shouldDeleteDiscontinuedServiceBrokersGateway" targetRef="deleteServiceBrokersTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(deleteServiceBrokers == true)}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="deleteDiscontinuedServicesFlow" sourceRef="shouldDeleteDiscontinuedServicesGateway" targetRef="deleteServicesCallActivity">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(deleteServices == true)}]]></conditionExpression>
    </sequenceFlow>
    <callActivity id="deleteServiceKeysSubProcess" name="Delete Abandoned Service Keys" flowable:async="true" flowable:exclusive="false" calledElement="deleteServiceKeySubProcess" flowable:calledElementType="key" flowable:completeAsync="true" flowable:fallbackToDefaultTenant="false">
        <extensionElements>
            <flowable:in source="processId" target="processId"/>
            <flowable:in source="serviceKeyToProcess" target="serviceKeyToProcess"/>
            <flowable:in source="user" target="user"/>
            <flowable:in source="userGuid" target="userGuid"/>
            <flowable:in source="correlationId" target="correlationId"/>
            <flowable:in source="__SPACE_ID" target="__SPACE_ID"/>
            <flowable:in source="isSecurityEnabled" target="isSecurityEnabled"></flowable:in>
            <flowable:in source="secureExtensionDescriptorParameterNames" target="secureExtensionDescriptorParameterNames"></flowable:in>
            <flowable:in source="isDisposableUserProvidedServiceEnabled" target="isDisposableUserProvidedServiceEnabled"></flowable:in>
            <flowable:in source="disposableUserProvidedServiceName" target="disposableUserProvidedServiceName"></flowable:in>
            <flowable:in source="mtaId" target="mtaId"></flowable:in>
        </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" flowable:collection="serviceKeysToDelete" flowable:elementVariable="serviceKeyToProcess"></multiInstanceLoopCharacteristics>
    </callActivity>
    <sequenceFlow id="continueDeployProcessFlow" sourceRef="deployModulesSequential" targetRef="createSubscriptionsTask"></sequenceFlow>
    <sequenceFlow id="flow50" sourceRef="addDomainsTask" targetRef="processBatchesSequentially"></sequenceFlow>
    <sequenceFlow id="sid-7E794918-D88A-4C75-BBD7-BBAFA727FBF5" sourceRef="processBatchesSequentially" targetRef="prepareModulesDeploymentTask"></sequenceFlow>
    <sequenceFlow id="flow139" sourceRef="collectSystemParametersTask" targetRef="prepareAppsRestartTask"></sequenceFlow>
    <sequenceFlow id="flow152" sourceRef="deployModulesParallel" targetRef="hasParallelDeploymentCompletedGateway"></sequenceFlow>
    <sequenceFlow id="resumePhaseStarted" sourceRef="setValidationPhaseStartedInclusiveGateway" targetRef="collectSystemParametersTask">
      <extensionElements>
        <flowable:executionListener event="take" delegateExpression="${setResumePhase}"></flowable:executionListener>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="sid-C1F6D631-7CFC-4226-BE3E-1921D03172B5" sourceRef="sid-5B2AE114-1CBF-47C2-82D5-4CB9379C6136" targetRef="updateModulesAppNames">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${keepOriginalAppNamesAfterDeploy == true}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="shouldRestartAppsParallelFlow" sourceRef="restartAppsModeGateway" targetRef="computeNextAppsToRestartInParallel">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(deploymentMode == "PARALLEL")}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="shouldRestartAppsSequentialFlow" sourceRef="restartAppsModeGateway" targetRef="restartAppsSequential"></sequenceFlow>
    <sequenceFlow id="sid-065FFC8D-12B3-4D53-B7F6-A0D2B3EA9420" sourceRef="sid-5B2AE114-1CBF-47C2-82D5-4CB9379C6136" targetRef="restartAppsModeGateway"></sequenceFlow>
    <sequenceFlow id="sid-DCD85749-68D2-45D5-9E3C-14666E26E61D" sourceRef="updateModulesAppNames" targetRef="restartAppsModeGateway"></sequenceFlow>
    <sequenceFlow id="deployAppsParallelNextIterationFlow" sourceRef="hasParallelDeploymentCompletedGateway" targetRef="computeNextModulesToDeployInParallel"></sequenceFlow>
    <sequenceFlow id="parallelDeploymentCompletedFlow" sourceRef="hasParallelDeploymentCompletedGateway" targetRef="createSubscriptionsTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(iteratedModulesInParallel.size() == modulesToDeploy.size())}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow36" sourceRef="continueDeploymentTask" targetRef="setValidationPhaseStartedInclusiveGateway"></sequenceFlow>
    <sequenceFlow id="autoContinueDeploymentFlow" name="Auto continue deployment" sourceRef="shouldAutoContinueDeploymentGateway" targetRef="setValidationPhaseStartedInclusiveGateway">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(empty deployedMta or noConfirm)}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="doNotAutoContinueDeploymentFlow" sourceRef="shouldAutoContinueDeploymentGateway" targetRef="continueDeploymentTask"></sequenceFlow>
    <sequenceFlow id="sid-89DB9056-1BFC-4D13-B6DF-B962CE9D9F39" sourceRef="restartAppsSequential" targetRef="setUndeployPhaseInclusiveGateway"></sequenceFlow>
    <sequenceFlow id="sid-F03AE0E8-50BB-406A-86A2-F03817C71F5E" sourceRef="hasParallelRestartCompletedGateway" targetRef="setUndeployPhaseInclusiveGateway">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(iteratedModulesInParallel.size() == modulesToDeploy.size())}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="restartAppsParallelNextIterationFlow" sourceRef="hasParallelRestartCompletedGateway" targetRef="computeNextAppsToRestartInParallel"></sequenceFlow>
    <sequenceFlow id="sid-FC7F56D7-4472-416D-B028-1ED6095D12A2" sourceRef="deleteServicesCallActivity" targetRef="updateSubscribersTask"></sequenceFlow>
    <sequenceFlow id="sid-49A212DC-E070-4ECD-8C04-FD205869CF1B" sourceRef="detachServicesFromMtaTask" targetRef="updateSubscribersTask"></sequenceFlow>
    <sequenceFlow id="sid-28CE5BFA-32C6-42FB-8296-2015C369E8DD" sourceRef="deleteDiscontinuedConfigurationEntriesTask" targetRef="shouldDeleteDiscontinuedServiceBrokersGateway"></sequenceFlow>
    <sequenceFlow id="flowHasGitGateway" sourceRef="startEvent" targetRef="validateParametersTask"></sequenceFlow>
    <callActivity id="sid-2827E336-1827-4AC2-BCE2-AD2A8B3DE595" name="Backup Existing App Call Activity" flowable:async="true" calledElement="backupExistingAppSubProcess" flowable:calledElementType="key" flowable:inheritVariables="true" flowable:completeAsync="true" flowable:fallbackToDefaultTenant="false">
      <multiInstanceLoopCharacteristics isSequential="false" flowable:collection="appsToBackup" flowable:elementVariable="appToProcess"></multiInstanceLoopCharacteristics>
    </callActivity>
    <sequenceFlow id="shouldDeployModulesSequentialFlow" sourceRef="deploymentModeGateway" targetRef="deployModulesSequential"></sequenceFlow>
    <sequenceFlow id="shouldDeployModulesParallelFlow" sourceRef="deploymentModeGateway" targetRef="computeNextModulesToDeployInParallel">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(deploymentMode == "PARALLEL")}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-5F48B17E-DD8B-4609-86D4-61D2E10DFCC2" sourceRef="sid-2827E336-1827-4AC2-BCE2-AD2A8B3DE595" targetRef="shouldDeleteDiscontinuedServicesGateway"></sequenceFlow>
    <sequenceFlow id="sid-9C29A3A5-DDC1-4A6D-B7DA-04C3367DC343" sourceRef="setUndeployPhaseInclusiveGateway" targetRef="deleteSubscriptionsTask">
      <extensionElements>
        <flowable:executionListener event="take" delegateExpression="${setUndeployPhase}"></flowable:executionListener>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="sid-63741827-A046-4960-A5C2-DE8333C06752" sourceRef="undeployAppCallActivity" targetRef="deleteServiceKeysSubProcess"></sequenceFlow>
    <sequenceFlow id="sid-7569B7CF-BAD8-4F86-9879-88E283BD0E7B" sourceRef="deleteServiceKeysSubProcess" targetRef="sid-2827E336-1827-4AC2-BCE2-AD2A8B3DE595"></sequenceFlow>
    <sequenceFlow id="sid-82DC4073-CDBC-47E5-AFC3-B5FFD7AB1499" name="Don't delete service brokers" sourceRef="shouldDeleteDiscontinuedServiceBrokersGateway" targetRef="undeployAppCallActivity"></sequenceFlow>
    <sequenceFlow id="sid-80047DB4-2E71-43B5-A93B-687A54A02448" sourceRef="sid-F9BE9E7F-9BF9-428B-96E7-D395381BF7AD" targetRef="undeployAppCallActivity">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${(StepExecution == "DONE")}]]></conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_xs2-bg-deploy">
    <bpmndi:BPMNPlane bpmnElement="xs2-bg-deploy" id="BPMNPlane_xs2-bg-deploy">
      <bpmndi:BPMNShape bpmnElement="startEvent" id="BPMNShape_startEvent">
        <omgdc:Bounds height="30.0" width="30.0" x="539.5" y="45.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="addDomainsTask" id="BPMNShape_addDomainsTask">
        <omgdc:Bounds height="66.0" width="105.0" x="880.5" y="122.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="prepareModulesDeploymentTask" id="BPMNShape_prepareModulesDeploymentTask">
        <omgdc:Bounds height="66.0" width="119.0" x="495.0" y="126.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="buildDeployModelTask" id="BPMNShape_buildDeployModelTask">
        <omgdc:Bounds height="68.0" width="118.0" x="1205.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="processArchiveTask" id="BPMNShape_processArchiveTask">
        <omgdc:Bounds height="65.0" width="105.0" x="1035.0" y="26.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="validateParametersTask" id="BPMNShape_validateParametersTask">
        <omgdc:Bounds height="65.0" width="105.0" x="728.0" y="27.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="deleteServiceBrokersTask" id="BPMNShape_deleteServiceBrokersTask">
        <omgdc:Bounds height="65.0" width="106.0" x="1395.0" y="585.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="shouldDeleteDiscontinuedServiceBrokersGateway" id="BPMNShape_shouldDeleteDiscontinuedServiceBrokersGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="1534.0" y="523.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="processExtensionDescriptorsTask" id="BPMNShape_processExtensionDescriptorsTask">
        <omgdc:Bounds height="65.0" width="117.0" x="1170.0" y="27.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="detectSchemaVersionTask" id="BPMNShape_detectSchemaVersionTask">
        <omgdc:Bounds height="65.0" width="117.0" x="1335.0" y="26.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="mergeDescriptorsTask" id="BPMNShape_mergeDescriptorsTask">
        <omgdc:Bounds height="65.0" width="105.0" x="1522.0" y="27.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="deleteDiscontinuedConfigurationEntriesTask" id="BPMNShape_deleteDiscontinuedConfigurationEntriesTask">
        <omgdc:Bounds height="65.0" width="111.0" x="1635.0" y="581.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="collectBlueGreenSystemParametersTask" id="BPMNShape_collectBlueGreenSystemParametersTask">
        <omgdc:Bounds height="68.0" width="105.0" x="1522.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="processDescriptorTask" id="BPMNShape_processDescriptorTask">
        <omgdc:Bounds height="68.0" width="105.0" x="1365.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="buildUndeployModelTask" id="BPMNShape_buildUndeployModelTask">
        <omgdc:Bounds height="68.0" width="117.0" x="1042.0" y="121.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="detectDeployedMtaTask" id="BPMNShape_detectDeployedMtaTask">
        <omgdc:Bounds height="65.0" width="105.0" x="1680.0" y="27.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="renameApplicationsTask" id="BPMNShape_renameApplicationsTask">
        <omgdc:Bounds height="68.0" width="105.0" x="1680.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="continueDeploymentTask" id="BPMNShape_continueDeploymentTask">
        <omgdc:Bounds height="68.0" width="107.0" x="960.0" y="301.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="shouldAutoContinueDeploymentGateway" id="BPMNShape_shouldAutoContinueDeploymentGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="915.0" y="382.2500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="createSubscriptionsTask" id="BPMNShape_createSubscriptionsTask">
        <omgdc:Bounds height="68.0" width="105.0" x="770.5" y="368.2500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="deleteSubscriptionsTask" id="BPMNShape_deleteSubscriptionsTask">
        <omgdc:Bounds height="68.0" width="105.0" x="1788.0729559271892" y="580.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="updateSubscribersTask" id="BPMNShape_updateSubscribersTask">
        <omgdc:Bounds height="65.0" width="106.99999999999999" x="116.00603137426744" y="577.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="restartSubscribersTask" id="BPMNShape_restartSubscribersTask">
        <omgdc:Bounds height="75.0" width="105.0" x="262.5060313742674" y="764.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="updateServiceBrokerSubscriberTask" id="BPMNShape_updateServiceBrokerSubscriberTask">
        <omgdc:Bounds height="75.0" width="105.0" x="908.5060313742674" y="764.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="prepareToRestartServiceBrokerSubscribersTask" id="BPMNShape_prepareToRestartServiceBrokerSubscribersTask">
        <omgdc:Bounds height="75.0" width="105.0" x="421.5060313742674" y="764.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endEvent" id="BPMNShape_endEvent">
        <omgdc:Bounds height="28.0" width="28.0" x="365.5060313742674" y="909.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="prepareAppsRestartTask" id="BPMNShape_prepareAppsRestartTask">
        <omgdc:Bounds height="67.0" width="109.0" x="1332.5" y="368.7500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="areAllServiceBrokerSubscribersRestartedGateway" id="BPMNShape_areAllServiceBrokerSubscribersRestartedGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="587.5060313742674" y="782.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="restartServiceBrokerSubscriberTask" id="BPMNShape_restartServiceBrokerSubscriberTask">
        <omgdc:Bounds height="75.0" width="105.0" x="678.5060313742674" y="764.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="isServiceBrokerSubscriberStartedGateway" id="BPMNShape_isServiceBrokerSubscriberStartedGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="827.5060313742674" y="781.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="timerintermediatecatchevent4" id="BPMNShape_timerintermediatecatchevent4">
        <omgdc:Bounds height="31.0" width="31.0" x="830.5060313742674" y="849.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="incrementServiceBrokerSubscribersToRestartIndexTask" id="BPMNShape_incrementServiceBrokerSubscribersToRestartIndexTask">
        <omgdc:Bounds height="55.0" width="105.0" x="784.5060313742674" y="889.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="collectSystemParametersTask" id="BPMNShape_collectSystemParametersTask">
        <omgdc:Bounds height="68.0" width="105.0" x="1185.0" y="368.2500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="shouldRestartSubscribersGateway" id="BPMNShape_shouldRestartSubscribersGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="149.50603137426742" y="782.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="deployModulesSequential" id="BPMNShape_deployModulesSequential">
        <omgdc:Bounds height="62.00000000000006" width="105.0" x="478.0" y="428.2500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="deployModulesParallel" id="BPMNShape_deployModulesParallel">
        <omgdc:Bounds height="62.0" width="105.0" x="542.5" y="312.7500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="deploymentModeGateway" id="BPMNShape_deploymentModeGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="306.75" y="382.2500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="computeNextModulesToDeployInParallel" id="BPMNShape_computeNextModulesToDeployInParallel">
        <omgdc:Bounds height="55.0" width="105.0" x="405.0" y="316.2500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="hasParallelDeploymentCompletedGateway" id="BPMNShape_hasParallelDeploymentCompletedGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="675.0" y="323.7500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="deleteServicesCallActivity" id="BPMNShape_deleteServicesCallActivity">
        <omgdc:Bounds height="67.0" width="105.00000000000006" x="453.854825099414" y="506.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="restartAppsSequential" id="BPMNShape_restartAppsSequential">
        <omgdc:Bounds height="61.0" width="105.0" x="1815.0" y="433.0954926545318"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="restartAppsParallel" id="BPMNShape_restartAppsParallel">
        <omgdc:Bounds height="61.0" width="105.0" x="1890.0" y="304.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="computeNextAppsToRestartInParallel" id="BPMNShape_computeNextAppsToRestartInParallel">
        <omgdc:Bounds height="55.0" width="105.0" x="1740.0" y="306.84549265453165"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="hasParallelRestartCompletedGateway" id="BPMNShape_hasParallelRestartCompletedGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="2025.0" y="315.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="shouldDeleteDiscontinuedServicesGateway" id="BPMNShape_shouldDeleteDiscontinuedServicesGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="652.354825099414" y="571.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="processBatchesSequentially" id="BPMNShape_processBatchesSequentially">
        <omgdc:Bounds height="78.0" width="113.0" x="698.5" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="setUndeployPhaseInclusiveGateway" id="BPMNShape_setUndeployPhaseInclusiveGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="2055.0" y="510.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="undeployAppCallActivity" id="BPMNShape_undeployAppCallActivity">
        <omgdc:Bounds height="80.0" width="100.0" x="1129.947575573287" y="551.4999917820097"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="deleteRemainingFileParts" id="BPMNShape_deleteRemainingFileParts">
        <omgdc:Bounds height="65.0" width="105.0" x="880.5" y="27.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="detectApplicationsToRenameTask" id="BPMNShape_detectApplicationsToRenameTask">
        <omgdc:Bounds height="67.0" width="105.0" x="1845.0" y="26.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="updateModulesAppNames" id="BPMNShape_updateModulesAppNames">
        <omgdc:Bounds height="70.0" width="106.0" x="1515.0" y="300.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-C6BBB2C9-B681-4FAE-A33C-57CEF185997B" id="BPMNShape_sid-C6BBB2C9-B681-4FAE-A33C-57CEF185997B">
        <omgdc:Bounds height="80.0" width="100.0" x="1847.5" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="detachServicesFromMtaTask" id="BPMNShape_detachServicesFromMtaTask">
        <omgdc:Bounds height="57.0" width="103.00000000000006" x="454.854825099414" y="626.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="setValidationPhaseStartedInclusiveGateway" id="BPMNShape_setValidationPhaseStartedInclusiveGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="1110.0" y="382.2500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5B2AE114-1CBF-47C2-82D5-4CB9379C6136" id="BPMNShape_sid-5B2AE114-1CBF-47C2-82D5-4CB9379C6136">
        <omgdc:Bounds height="40.0" width="40.0" x="1473.0" y="382.2500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="restartAppsModeGateway" id="BPMNShape_restartAppsModeGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="1665.0" y="382.2500000000002"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-66CC8C75-3074-4F04-AF5E-50775AD4EC95" id="BPMNShape_sid-66CC8C75-3074-4F04-AF5E-50775AD4EC95">
        <omgdc:Bounds height="40.0" width="40.0" x="941.0060313742674" y="897.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-69953C51-B2F9-4A09-AC62-91EA1F4FB2B1" id="BPMNShape_sid-69953C51-B2F9-4A09-AC62-91EA1F4FB2B1">
        <omgdc:Bounds height="31.0" width="31.0" x="1059.5060313742674" y="901.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-F9BE9E7F-9BF9-428B-96E7-D395381BF7AD" id="BPMNShape_sid-F9BE9E7F-9BF9-428B-96E7-D395381BF7AD">
        <omgdc:Bounds height="40.0" width="40.0" x="1367.0" y="679.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-18F22FDF-C42D-4456-97F1-B31A0DE93B28" id="BPMNShape_sid-18F22FDF-C42D-4456-97F1-B31A0DE93B28">
        <omgdc:Bounds height="31.0" width="31.0" x="1472.0" y="683.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="deleteServiceKeysSubProcess" id="BPMNShape_deleteServiceKeysSubProcess">
        <omgdc:Bounds height="62.0" width="105.0" x="961.9475755732869" y="560.4999917820097"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-2827E336-1827-4AC2-BCE2-AD2A8B3DE595" id="BPMNShape_sid-2827E336-1827-4AC2-BCE2-AD2A8B3DE595">
        <omgdc:Bounds height="80.0" width="100.0" x="797.052400672701" y="551.4999917820097"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="continueDeployProcessFlow" id="BPMNEdge_continueDeployProcessFlow">
        <omgdi:waypoint x="582.9499999999725" y="459.18518518518533"></omgdi:waypoint>
        <omgdi:waypoint x="733.0" y="459.0"></omgdi:waypoint>
        <omgdi:waypoint x="733.0" y="402.0"></omgdi:waypoint>
        <omgdi:waypoint x="770.4999999999932" y="402.10416666666674"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-80047DB4-2E71-43B5-A93B-687A54A02448" id="BPMNEdge_sid-80047DB4-2E71-43B5-A93B-687A54A02448">
        <omgdi:waypoint x="1387.0" y="679.0"></omgdi:waypoint>
        <omgdi:waypoint x="1387.0" y="591.0"></omgdi:waypoint>
        <omgdi:waypoint x="1229.8975755732627" y="591.3792513986517"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-91F14D78-6B14-407B-8D03-DE7B6EC32F34" id="BPMNEdge_sid-91F14D78-6B14-407B-8D03-DE7B6EC32F34">
        <omgdi:waypoint x="1441.4499999999616" y="402.2500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="1473.0" y="402.2500000000002"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="autoContinueDeploymentFlow" id="BPMNEdge_autoContinueDeploymentFlow">
        <omgdi:waypoint x="954.9448872373141" y="402.2500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="1110.0" y="402.2500000000002"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow49" id="BPMNEdge_flow49">
        <omgdi:waypoint x="1041.999999999891" y="155.0"></omgdi:waypoint>
        <omgdi:waypoint x="985.4499999999476" y="155.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-C1F6D631-7CFC-4226-BE3E-1921D03172B5" id="BPMNEdge_sid-C1F6D631-7CFC-4226-BE3E-1921D03172B5">
        <omgdi:waypoint x="1493.0" y="382.2500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="1493.0" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="1515.0" y="335.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="shouldDeployModulesParallelFlow" id="BPMNEdge_shouldDeployModulesParallelFlow">
        <omgdi:waypoint x="345.8912162162161" y="401.43918918918934"></omgdi:waypoint>
        <omgdi:waypoint x="380.0" y="400.0"></omgdi:waypoint>
        <omgdi:waypoint x="380.0" y="343.0"></omgdi:waypoint>
        <omgdi:waypoint x="404.9999999999942" y="343.24193548387103"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-C50445C7-0A1F-4CD6-8C8E-CC480F50B507" id="BPMNEdge_sid-C50445C7-0A1F-4CD6-8C8E-CC480F50B507">
        <omgdi:waypoint x="1406.9400844930417" y="699.0"></omgdi:waypoint>
        <omgdi:waypoint x="1472.0" y="699.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow129" id="BPMNEdge_flow129">
        <omgdi:waypoint x="526.4560313742606" y="802.1964419475655"></omgdi:waypoint>
        <omgdi:waypoint x="587.5384698530146" y="802.4253731343283"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow127" id="BPMNEdge_flow127">
        <omgdi:waypoint x="784.506031374251" y="916.6428717957407"></omgdi:waypoint>
        <omgdi:waypoint x="690.0" y="916.0"></omgdi:waypoint>
        <omgdi:waypoint x="615.9029972892037" y="814.0459256571219"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2">
        <omgdi:waypoint x="832.9499999999999" y="59.5"></omgdi:waypoint>
        <omgdi:waypoint x="880.4999999999907" y="59.5"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-BA0DFB11-8CBB-48ED-A7D0-B1A909BEFD2B" id="BPMNEdge_sid-BA0DFB11-8CBB-48ED-A7D0-B1A909BEFD2B">
        <omgdi:waypoint x="1847.4999999999993" y="158.18181818181816"></omgdi:waypoint>
        <omgdi:waypoint x="1784.9499999999998" y="155.90727272727273"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
        <omgdi:waypoint x="1139.9499999999985" y="59.18599290780141"></omgdi:waypoint>
        <omgdi:waypoint x="1169.9999999999998" y="59.29255319148936"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="waitForServiceBrokerSubscriberToStartFlow" id="BPMNEdge_waitForServiceBrokerSubscriberToStartFlow">
        <omgdi:waypoint x="847.044492912729" y="820.989615384615"></omgdi:waypoint>
        <omgdi:waypoint x="846.3708921747466" y="849.5042397921873"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-63741827-A046-4960-A5C2-DE8333C06752" id="BPMNEdge_sid-63741827-A046-4960-A5C2-DE8333C06752">
        <omgdi:waypoint x="1129.947575573204" y="591.4999917820097"></omgdi:waypoint>
        <omgdi:waypoint x="1066.8975755732654" y="591.4999917820097"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow4" id="BPMNEdge_flow4">
        <omgdi:waypoint x="1286.9499999999946" y="59.32272727272727"></omgdi:waypoint>
        <omgdi:waypoint x="1334.999999999997" y="59.1771212121212"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="doNotAutoContinueDeploymentFlow" id="BPMNEdge_doNotAutoContinueDeploymentFlow">
        <omgdi:waypoint x="935.0" y="382.2500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="935.0" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="959.9999999999969" y="335.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow86" id="BPMNEdge_flow86">
        <omgdi:waypoint x="367.4560313742185" y="802.0"></omgdi:waypoint>
        <omgdi:waypoint x="421.5060313742674" y="802.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow121" id="BPMNEdge_flow121">
        <omgdi:waypoint x="783.4560313742473" y="801.774678111588"></omgdi:waypoint>
        <omgdi:waypoint x="827.5915014597359" y="801.5852564102564"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-89DB9056-1BFC-4D13-B6DF-B962CE9D9F39" id="BPMNEdge_sid-89DB9056-1BFC-4D13-B6DF-B962CE9D9F39">
        <omgdi:waypoint x="1919.949999999977" y="463.444825838325"></omgdi:waypoint>
        <omgdi:waypoint x="2075.0" y="463.0"></omgdi:waypoint>
        <omgdi:waypoint x="2075.0" y="510.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow7" id="BPMNEdge_flow7">
        <omgdi:waypoint x="1626.9499999999748" y="59.5"></omgdi:waypoint>
        <omgdi:waypoint x="1680.0" y="59.5"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow8" id="BPMNEdge_flow8">
        <omgdi:waypoint x="1784.9499999999962" y="59.5"></omgdi:waypoint>
        <omgdi:waypoint x="1845.0" y="59.5"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-58D6EFB3-8909-49A1-B95F-E6EC40DD16B3" id="BPMNEdge_sid-58D6EFB3-8909-49A1-B95F-E6EC40DD16B3">
        <omgdi:waypoint x="1480.7383169234652" y="685.0469494806148"></omgdi:waypoint>
        <omgdi:waypoint x="1463.727300613497" y="649.9499999999999"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow9" id="BPMNEdge_flow9">
        <omgdi:waypoint x="1679.9999999999977" y="154.0"></omgdi:waypoint>
        <omgdi:waypoint x="1626.95" y="154.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow45" id="BPMNEdge_flow45">
        <omgdi:waypoint x="1423.6748466257668" y="649.9499999999999"></omgdi:waypoint>
        <omgdi:waypoint x="1395.54" y="687.561403508772"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow83" id="BPMNEdge_flow83">
        <omgdi:waypoint x="961.0060313742674" y="839.4499999999999"></omgdi:waypoint>
        <omgdi:waypoint x="961.0060313742674" y="897.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-49A212DC-E070-4ECD-8C04-FD205869CF1B" id="BPMNEdge_sid-49A212DC-E070-4ECD-8C04-FD205869CF1B">
        <omgdi:waypoint x="454.85482509940164" y="654.5573883596489"></omgdi:waypoint>
        <omgdi:waypoint x="390.0" y="654.0"></omgdi:waypoint>
        <omgdi:waypoint x="390.0" y="610.0"></omgdi:waypoint>
        <omgdi:waypoint x="222.9560313742674" y="610.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow124" id="BPMNEdge_flow124">
        <omgdi:waypoint x="830.5065929358674" y="865.1331781006828"></omgdi:waypoint>
        <omgdi:waypoint x="730.0" y="866.0"></omgdi:waypoint>
        <omgdi:waypoint x="730.4165598659076" y="839.4499999999999"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="doNotRestartSubscribersFlow" id="BPMNEdge_doNotRestartSubscribersFlow">
        <omgdi:waypoint x="169.42441738038997" y="822.3685900411073"></omgdi:waypoint>
        <omgdi:waypoint x="169.0" y="926.0"></omgdi:waypoint>
        <omgdi:waypoint x="365.50699482192675" y="923.6656608918397"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow39" id="BPMNEdge_flow39">
        <omgdi:waypoint x="1788.0729559271679" y="613.8250850738707"></omgdi:waypoint>
        <omgdi:waypoint x="1745.9499999999687" y="613.6847434791212"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow36" id="BPMNEdge_flow36">
        <omgdi:waypoint x="1066.95" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="1087.0" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="1087.0" y="402.0"></omgdi:waypoint>
        <omgdi:waypoint x="1110.0891003460208" y="402.1343930635839"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9C29A3A5-DDC1-4A6D-B7DA-04C3367DC343" id="BPMNEdge_sid-9C29A3A5-DDC1-4A6D-B7DA-04C3367DC343">
        <omgdi:waypoint x="2075.0" y="549.9379963898917"></omgdi:waypoint>
        <omgdi:waypoint x="2075.0" y="613.0"></omgdi:waypoint>
        <omgdi:waypoint x="1893.0229559271843" y="613.7760497292127"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-7BDC3D2A-5EA5-489B-A1C1-ACD672F5EE72" id="BPMNEdge_sid-7BDC3D2A-5EA5-489B-A1C1-ACD672F5EE72">
        <omgdi:waypoint x="941.0060313742674" y="917.0"></omgdi:waypoint>
        <omgdi:waypoint x="889.4560313742674" y="917.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="resumePhaseStarted" id="BPMNEdge_resumePhaseStarted">
        <omgdi:waypoint x="1149.9407295539033" y="402.2500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="1185.0" y="402.2500000000002"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow139" id="BPMNEdge_flow139">
        <omgdi:waypoint x="1289.95" y="402.2500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="1332.4999999999227" y="402.2500000000002"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="restartAppsParallelNextIterationFlow" id="BPMNEdge_restartAppsParallelNextIterationFlow">
        <omgdi:waypoint x="2045.0" y="354.9344383775352"></omgdi:waypoint>
        <omgdi:waypoint x="2045.0" y="399.0"></omgdi:waypoint>
        <omgdi:waypoint x="1792.0" y="399.0"></omgdi:waypoint>
        <omgdi:waypoint x="1792.2873311457386" y="361.79549265453164"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="shouldRestartAppsSequentialFlow" id="BPMNEdge_shouldRestartAppsSequentialFlow">
        <omgdi:waypoint x="1685.0" y="422.18360723089586"></omgdi:waypoint>
        <omgdi:waypoint x="1685.0" y="463.0"></omgdi:waypoint>
        <omgdi:waypoint x="1814.9999999999957" y="463.4241865484336"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow68" id="BPMNEdge_flow68">
        <omgdi:waypoint x="494.99999999996277" y="159.0"></omgdi:waypoint>
        <omgdi:waypoint x="326.0" y="159.0"></omgdi:waypoint>
        <omgdi:waypoint x="326.6885245901639" y="382.26587464154056"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-94D842B0-2949-4439-AB30-88A82EAB18EB" id="BPMNEdge_sid-94D842B0-2949-4439-AB30-88A82EAB18EB">
        <omgdi:waypoint x="985.449999999998" y="59.33009708737865"></omgdi:waypoint>
        <omgdi:waypoint x="1034.9999999999975" y="59.16974110032363"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow151" id="BPMNEdge_flow151">
        <omgdi:waypoint x="509.949999999947" y="343.7500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="542.5" y="343.7500000000002"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="deleteDiscontinuedServiceBrokersFlow" id="BPMNEdge_deleteDiscontinuedServiceBrokersFlow">
        <omgdi:waypoint x="1554.0" y="563.4364470108695"></omgdi:waypoint>
        <omgdi:waypoint x="1554.0" y="617.0"></omgdi:waypoint>
        <omgdi:waypoint x="1500.949999999978" y="617.25"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-A545F747-FCFB-46E0-96B3-7555B8D922A4" id="BPMNEdge_sid-A545F747-FCFB-46E0-96B3-7555B8D922A4">
        <omgdi:waypoint x="980.9472890429789" y="917.0"></omgdi:waypoint>
        <omgdi:waypoint x="1059.5060313742674" y="917.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-28CE5BFA-32C6-42FB-8296-2015C369E8DD" id="BPMNEdge_sid-28CE5BFA-32C6-42FB-8296-2015C369E8DD">
        <omgdi:waypoint x="1634.999999999983" y="613.1372549019608"></omgdi:waypoint>
        <omgdi:waypoint x="1614.0" y="613.0"></omgdi:waypoint>
        <omgdi:waypoint x="1614.0" y="543.0"></omgdi:waypoint>
        <omgdi:waypoint x="1573.7851239669421" y="543.3347107438017"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E29C0DB4-272C-4094-B566-FAE993E6F564" id="BPMNEdge_sid-E29C0DB4-272C-4094-B566-FAE993E6F564">
        <omgdi:waypoint x="1075.0052254578782" y="901.5"></omgdi:waypoint>
        <omgdi:waypoint x="1075.0" y="801.0"></omgdi:waypoint>
        <omgdi:waypoint x="1013.4560313742674" y="801.5394493179514"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="restartSubscribersFlow" id="BPMNEdge_restartSubscribersFlow">
        <omgdi:waypoint x="189.38770945645908" y="802.431506849315"></omgdi:waypoint>
        <omgdi:waypoint x="262.5060313742563" y="802.180240549828"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-065FFC8D-12B3-4D53-B7F6-A0D2B3EA9420" id="BPMNEdge_sid-065FFC8D-12B3-4D53-B7F6-A0D2B3EA9420">
        <omgdi:waypoint x="1512.8953424657534" y="402.1952054794523"></omgdi:waypoint>
        <omgdi:waypoint x="1584.0" y="402.0"></omgdi:waypoint>
        <omgdi:waypoint x="1572.0" y="402.0"></omgdi:waypoint>
        <omgdi:waypoint x="1665.0031980591089" y="402.2058498896249"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="parallelDeploymentCompletedFlow" id="BPMNEdge_parallelDeploymentCompletedFlow">
        <omgdi:waypoint x="714.5638709677412" y="343.3629032258065"></omgdi:waypoint>
        <omgdi:waypoint x="733.0" y="343.0"></omgdi:waypoint>
        <omgdi:waypoint x="733.0" y="402.0"></omgdi:waypoint>
        <omgdi:waypoint x="770.4999999999932" y="402.10416666666674"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow144" id="BPMNEdge_flow144">
        <omgdi:waypoint x="169.50603137426742" y="642.4499999999999"></omgdi:waypoint>
        <omgdi:waypoint x="169.50603137426742" y="782.5"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="shouldRestartAppsParallelFlow" id="BPMNEdge_shouldRestartAppsParallelFlow">
        <omgdi:waypoint x="1685.0" y="382.2500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="1685.0" y="334.0"></omgdi:waypoint>
        <omgdi:waypoint x="1739.9999999999877" y="334.17676368371383"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4B6B0565-AD88-4ADB-95C5-2A77476A7C32" id="BPMNEdge_sid-4B6B0565-AD88-4ADB-95C5-2A77476A7C32">
        <omgdi:waypoint x="875.4499999999999" y="402.2500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="915.0" y="402.2500000000002"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-7569B7CF-BAD8-4F86-9879-88E283BD0E7B" id="BPMNEdge_sid-7569B7CF-BAD8-4F86-9879-88E283BD0E7B">
        <omgdi:waypoint x="961.9475755728528" y="591.4999917820097"></omgdi:waypoint>
        <omgdi:waypoint x="897.0024006727009" y="591.4999917820097"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-7E794918-D88A-4C75-BBD7-BBAFA727FBF5" id="BPMNEdge_sid-7E794918-D88A-4C75-BBD7-BBAFA727FBF5">
        <omgdi:waypoint x="698.5" y="159.0"></omgdi:waypoint>
        <omgdi:waypoint x="613.95" y="159.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="deleteDiscontinuedServicesFlow" id="BPMNEdge_deleteDiscontinuedServicesFlow">
        <omgdi:waypoint x="671.8516853725973" y="571.9854727355175"></omgdi:waypoint>
        <omgdi:waypoint x="671.0" y="539.0"></omgdi:waypoint>
        <omgdi:waypoint x="558.8048250994069" y="539.6811324715"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="notAllServiceBrokerSubscribersAreRestartedFlow" id="BPMNEdge_notAllServiceBrokerSubscribersAreRestartedFlow">
        <omgdi:waypoint x="627.3755878258802" y="802.4193548387096"></omgdi:waypoint>
        <omgdi:waypoint x="678.5060313742451" y="802.2123481781376"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="allServiceBrokerSubscribersWereRestartedFlow" id="BPMNEdge_allServiceBrokerSubscribersWereRestartedFlow">
        <omgdi:waypoint x="607.42441738039" y="822.3685900411072"></omgdi:waypoint>
        <omgdi:waypoint x="607.0" y="926.0"></omgdi:waypoint>
        <omgdi:waypoint x="393.4546308974041" y="923.6532919950935"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-5F48B17E-DD8B-4609-86D4-61D2E10DFCC2" id="BPMNEdge_sid-5F48B17E-DD8B-4609-86D4-61D2E10DFCC2">
        <omgdi:waypoint x="797.0523992292387" y="591.4999941317195"></omgdi:waypoint>
        <omgdi:waypoint x="692.2605105341524" y="591.4999990591753"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-82DC4073-CDBC-47E5-AFC3-B5FFD7AB1499" id="BPMNEdge_sid-82DC4073-CDBC-47E5-AFC3-B5FFD7AB1499">
        <omgdi:waypoint x="1534.0540865384603" y="543.4399399399399"></omgdi:waypoint>
        <omgdi:waypoint x="1388.0" y="543.0"></omgdi:waypoint>
        <omgdi:waypoint x="1388.0" y="591.0"></omgdi:waypoint>
        <omgdi:waypoint x="1229.8975755732326" y="591.3798317349957"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="shouldDeployModulesSequentialFlow" id="BPMNEdge_shouldDeployModulesSequentialFlow">
        <omgdi:waypoint x="346.25862831858393" y="401.80752212389393"></omgdi:waypoint>
        <omgdi:waypoint x="382.0" y="401.0"></omgdi:waypoint>
        <omgdi:waypoint x="382.0" y="459.0"></omgdi:waypoint>
        <omgdi:waypoint x="477.9999999999492" y="459.1616161616162"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="doNotDeleteDiscontinuedServicesFlow" id="BPMNEdge_doNotDeleteDiscontinuedServicesFlow">
        <omgdi:waypoint x="671.9304796886155" y="611.0267154527284"></omgdi:waypoint>
        <omgdi:waypoint x="671.0" y="654.0"></omgdi:waypoint>
        <omgdi:waypoint x="557.8048250994027" y="654.6872061387096"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow10" id="BPMNEdge_flow10">
        <omgdi:waypoint x="1522.0" y="154.0"></omgdi:waypoint>
        <omgdi:waypoint x="1469.95" y="154.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow155" id="BPMNEdge_flow155">
        <omgdi:waypoint x="1844.95" y="334.57435205633044"></omgdi:waypoint>
        <omgdi:waypoint x="1889.9999999999948" y="334.77092242908606"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-59F0AF3A-1E41-4A9D-8C78-9B94151006DE" id="BPMNEdge_sid-59F0AF3A-1E41-4A9D-8C78-9B94151006DE">
        <omgdi:waypoint x="1451.9499999999985" y="59.161464088397786"></omgdi:waypoint>
        <omgdi:waypoint x="1522.0" y="59.354972375690615"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow11" id="BPMNEdge_flow11">
        <omgdi:waypoint x="1364.9999999999725" y="154.0"></omgdi:waypoint>
        <omgdi:waypoint x="1322.949999999962" y="154.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow152" id="BPMNEdge_flow152">
        <omgdi:waypoint x="647.449999999939" y="343.7500000000002"></omgdi:waypoint>
        <omgdi:waypoint x="675.0" y="343.7500000000002"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flowHasGitGateway" id="BPMNEdge_flowHasGitGateway">
        <omgdi:waypoint x="569.449964134358" y="59.966814238905776"></omgdi:waypoint>
        <omgdi:waypoint x="727.9999999999987" y="59.616039823008855"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow12" id="BPMNEdge_flow12">
        <omgdi:waypoint x="1204.9999999999977" y="154.3605504587156"></omgdi:waypoint>
        <omgdi:waypoint x="1158.9499999999953" y="154.6422018348624"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-DCD85749-68D2-45D5-9E3C-14666E26E61D" id="BPMNEdge_sid-DCD85749-68D2-45D5-9E3C-14666E26E61D">
        <omgdi:waypoint x="1620.95" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="1635.0" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="1635.0" y="402.0"></omgdi:waypoint>
        <omgdi:waypoint x="1665.0697616683076" y="402.15049751243794"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="deployAppsParallelNextIterationFlow" id="BPMNEdge_deployAppsParallelNextIterationFlow">
        <omgdi:waypoint x="695.0" y="363.68018867924553"></omgdi:waypoint>
        <omgdi:waypoint x="695.0" y="394.0"></omgdi:waypoint>
        <omgdi:waypoint x="457.0" y="394.0"></omgdi:waypoint>
        <omgdi:waypoint x="457.22636815920396" y="371.2000000000002"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F03AE0E8-50BB-406A-86A2-F03817C71F5E" id="BPMNEdge_sid-F03AE0E8-50BB-406A-86A2-F03817C71F5E">
        <omgdi:waypoint x="2064.916860465116" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="2075.0" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="2075.0" y="510.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-FC7F56D7-4472-416D-B028-1ED6095D12A2" id="BPMNEdge_sid-FC7F56D7-4472-416D-B028-1ED6095D12A2">
        <omgdi:waypoint x="453.85482509941136" y="539.544882496638"></omgdi:waypoint>
        <omgdi:waypoint x="391.0" y="539.0"></omgdi:waypoint>
        <omgdi:waypoint x="391.0" y="610.0"></omgdi:waypoint>
        <omgdi:waypoint x="222.9560313742674" y="610.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="serviceBrokerSubscriberWasStartedFlow" id="BPMNEdge_serviceBrokerSubscriberWasStartedFlow">
        <omgdi:waypoint x="867.3598657300954" y="801.5875"></omgdi:waypoint>
        <omgdi:waypoint x="908.5060313742551" y="801.7687224669603"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow50" id="BPMNEdge_flow50">
        <omgdi:waypoint x="880.4999999999992" y="156.17865168539325"></omgdi:waypoint>
        <omgdi:waypoint x="811.4499999999994" y="157.7303370786517"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow156" id="BPMNEdge_flow156">
        <omgdi:waypoint x="1994.95" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="2025.0" y="335.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F9C7C5D5-4E9B-4B06-A289-7610B1CE462F" id="BPMNEdge_sid-F9C7C5D5-4E9B-4B06-A289-7610B1CE462F">
        <omgdi:waypoint x="1897.5" y="92.95"></omgdi:waypoint>
        <omgdi:waypoint x="1897.5" y="120.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>